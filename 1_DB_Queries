-- Table to store items
CREATE TABLE Item (
    itemID INT AUTO_INCREMENT PRIMARY KEY,
    itemName VARCHAR(255) NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    category VARCHAR(255) NOT NULL
);

-- Table to store inventory items
CREATE TABLE InventoryItem (
    inventoryItemID INT AUTO_INCREMENT PRIMARY KEY, -- Unique ID for each inventory item
    itemID INT NOT NULL,                            -- Foreign key referencing Item
    stockLevel INT NOT NULL,
    FOREIGN KEY (itemID) REFERENCES Item(itemID) ON DELETE CASCADE
);

-- Table to store inventory (a collection of inventory items)
CREATE TABLE Inventory (
    inventoryID INT AUTO_INCREMENT PRIMARY KEY
);

-- Table to link inventory and inventory items (many-to-many relationship)
CREATE TABLE Inventory_InventoryItem (
    inventoryID INT NOT NULL,
    inventoryItemID INT NOT NULL,
    PRIMARY KEY (inventoryID, inventoryItemID),
    FOREIGN KEY (inventoryID) REFERENCES Inventory(inventoryID) ON DELETE CASCADE,
    FOREIGN KEY (inventoryItemID) REFERENCES InventoryItem(inventoryItemID) ON DELETE CASCADE
);

-- Table to store shops
CREATE TABLE Shop (
    shopID INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    location VARCHAR(255) NOT NULL,
    inventoryID INT NOT NULL,                      -- Foreign key referencing Inventory
    FOREIGN KEY (inventoryID) REFERENCES Inventory(inventoryID) ON DELETE CASCADE
);
